<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width,initial-scale=1" />
		<meta http-equiv="X-UA-Compatible" content="ie=edge" />
		<style>
			textarea {
				height: 200px;
				width: 700px;
			}
			* {
				margin: 0;
				box-sizing: border-box;
				word-break: break-all;
			}
			button {
				display: inline-block;
				background-color: rgb(26, 199, 199);
				border: 0;
				padding: 7px;
				color: rgb(255, 255, 255);
				font-size: 16px;
			}
			#main {
				text-align: center;
				margin: auto;
			}
		</style>
		<script src="https://cdn.staticfile.org/crypto-js/3.1.9/crypto-js.min.js"></script>
		<script src="https://cdn.staticfile.org/jquery/3.4.1/jquery.min.js"></script>
		<title>crypto</title>
	</head>
	<body>
		<div id="main">
			<textarea id="target" spellcheck="false" placeholder="输入目标字符串"></textarea>
			<div>
				<select id="select">
					<option value="md5">md5</option>
					<option value="sha1">sha1</option>
					<option value="sha3">sha3</option>
					<option value="sha224">sha224</option>
					<option value="sha256">sha256</option>
					<option value="sha384">sha384</option>
					<option value="sha512">sha512</option>
					<option value="aes">AES</option>
					<option value="des">DES</option>
				</select>
				<button id="ency">加密</button> <button id="decy">解密</button>
				<label for="hmac">hmac</label>
				<input type="checkbox" name="hmac" id="hmac" />
				<input id="keys" placeholder="key" />
			</div>
			<textarea id="result" spellcheck="false" placeholder="结果字符串"></textarea>
			<script>
				$(function () {
					$('#ency').click(function () {
						var method = $('#select').val().toUpperCase();
						switch ($('#select').val()) {
							case 'md5':
							case 'sha1':
							case 'sha3':
							case 'sha224':
							case 'sha256':
							case 'sha384':
							case 'sha512':
								if (document.getElementById('hmac').checked) method = 'Hmac' + method;
								$('#result').val(CryptoJS[method]($('#target').val(), $('#keys').val()));
								break;
							case 'aes':
							case 'des':
								$('#result').val(
									CryptoJS[method].encrypt($('#target').val(), $('#keys').val(), {
										mode: CryptoJS.mode.CBC,
										padding: CryptoJS.pad.Pkcs7,
									})
								);
								break;
						}
						console.log(method);
					});
					$('#decy').click(function () {
						switch ($('#select').val()) {
							case 'aes':
							case 'des':
								var method = $('#select').val().toUpperCase();
								$('#result').val(
									CryptoJS[method]
										.decrypt($('#target').val(), $('#keys').val(), {
											mode: CryptoJS.mode.CBC,
											padding: CryptoJS.pad.Pkcs7,
										})
										.toString(CryptoJS.enc.Utf8)
								);
								break;
							default:
								alert('What are you doing');
						}
					});
				});
			</script>
		</div>
	</body>
</html>
